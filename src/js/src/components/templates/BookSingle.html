<template v-if="book">
    <router-link 
        class="back"
        to="/"
    >
        &lt; Back
    </router-link>
    <div class="book__details">
        <img 
            loading="lazy"
            src="../../../../assets/images/cover.jpg" 
            alt=""
            width="300"
            height="450"
        />
        <div>
            <h2>
                {{ book.title }}
            </h2>
            <p>
                by <b>{{ book.author }}</b>
            </p>
            <p class="small">
                 Non eram nescius, Brute, cum, quae summis ingeniis
                 exquisitaque doctrina philosophi Graeco sermone
                 tractavissent, ea Latinis litteris mandaremus, fore
                 ut hic noster labor in varias reprehensiones incurreret.
            </p>
            <p class="small">
                ISBN: {{ book.isbn }}
            </p>
            <p>
                Price: <b>${{ book.price }}</b>
            </p>
            <template v-if="!isPurchasing">
                <button 
                    v-if="book.availableStock > 0"
                    class="button"
                    v-on:click="purchaseBook"
                >
                    Buy now
                </button>
                <button  
                    v-else
                    class="button"
                    disabled
                >
                    Out of stock
                </button>
                <p 
                    v-if="5 >= book.availableStock && book.availableStock > 0"
                    class="small warning"
                >
                    Only {{ book.availableStock }} left in stock
                </p>
            </template>
            <template v-else>
                <div class="spinner" title="loading"></div>
            </template>
        </div>
    </div>
</template>
<template v-else>
    <div class="loading">
        <div class="spinner" title="loading"></div>
    </div>
</template>

